package github.com/hashicorp/terraform-provider-aws/internal/errs/sdkdiag
import (
	"fmt"

	"github.com/hashicorp/terraform-plugin-sdk/v2/diag"
	tfslices "github.com/hashicorp/terraform-provider-aws/internal/slices"
)
func WrapDiagsf(orig diag.Diagnostics, format string, a ...any) diag.Diagnostics {
	if len(orig) == 0 {
		return orig
	}

	msg := fmt.Sprintf(format, a...)
	return tfslices.ApplyToAll(orig, func(d diag.Diagnostic) diag.Diagnostic {
		return diag.Diagnostic{
			Severity:      d.Severity,
			Summary:       fmt.Sprintf("%s: %s", msg, d.Summary),
			Detail:        d.Detail,
			AttributePath: d.AttributePath,
		}
	})
}
