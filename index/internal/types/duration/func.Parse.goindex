package github.com/hashicorp/terraform-provider-aws/internal/types/duration
import (
	"errors"
	"fmt"
	"strconv"
	"strings"
	"time"

	"github.com/YakDriver/regexache"
)
func Parse(s string) (Duration, error) {
	if s == "" || s == "P" {
		return Duration{}, ErrSyntax
	}

	re := regexache.MustCompile(pattern)
	match := re.FindStringSubmatch(s)
	if match == nil {
		return Duration{}, ErrSyntax
	}

	var duration Duration

	for i, name := range re.SubexpNames() {
		value := match[i]
		if i == 0 || name == "" || value == "" {
			continue
		}

		v, err := strconv.Atoi(value)
		if err != nil {
			return Duration{}, err
		}

		switch name {
		case "years":
			duration.years = v
		case "months":
			duration.months = v
		case "days":
			duration.days = v
		}
	}

	return duration, nil
}
