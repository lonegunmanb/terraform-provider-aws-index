package github.com/hashicorp/terraform-provider-aws/internal/tfresource
import (
	"errors"
	"fmt"
	"iter"

	sdkretry "github.com/hashicorp/terraform-plugin-sdk/v2/helper/retry"
	"github.com/hashicorp/terraform-provider-aws/internal/retry"
	tfslices "github.com/hashicorp/terraform-provider-aws/internal/slices"
	"github.com/hashicorp/terraform-provider-aws/internal/types/option"
)
func AssertSingleValueResult[T any](a []T, fs ...foundFunc[T]) (*T, error) {
	if l := len(a); l == 0 {
		return nil, NewEmptyResultError(nil)
	} else if l > 1 {
		return nil, NewTooManyResultsError(l, nil)
	} else {
		v := &a[0]
		for _, f := range fs {
			if !f(v) {
				return nil, NewEmptyResultError(nil)
			}
		}
		return v, nil
	}
}
