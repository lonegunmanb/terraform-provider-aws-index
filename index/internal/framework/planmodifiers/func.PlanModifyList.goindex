package github.com/hashicorp/terraform-provider-aws/internal/framework/planmodifiers
import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework/path"
	"github.com/hashicorp/terraform-plugin-framework/resource/schema/planmodifier"
	"github.com/hashicorp/terraform-plugin-framework/types/basetypes"
)
func (m listDefaultValueFromPath[T]) PlanModifyList(ctx context.Context, request planmodifier.ListRequest, response *planmodifier.ListResponse) {
	// Do nothing if there is a known planned value.
	if !request.PlanValue.IsUnknown() {
		return
	}

	var t T
	response.Diagnostics.Append(request.Plan.GetAttribute(ctx, m.path, &t)...)
	if response.Diagnostics.HasError() {
		return
	}

	v, diags := t.ToListValue(ctx)
	response.Diagnostics.Append(diags...)
	if response.Diagnostics.HasError() {
		return
	}

	response.PlanValue = v
}
