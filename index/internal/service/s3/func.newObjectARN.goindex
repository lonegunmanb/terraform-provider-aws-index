package github.com/hashicorp/terraform-provider-aws/internal/service/s3
import (
	"fmt"
	"strings"

	"github.com/YakDriver/regexache"
	"github.com/aws/aws-sdk-go-v2/aws/arn"
)
func newObjectARN(partition string, bucket, key string) (arn.ARN, error) {
	if arn.IsARN(bucket) {
		bucketARN, err := arn.Parse(bucket)
		if err != nil {
			return arn.ARN{}, fmt.Errorf("S3 Object ARN: unexpected bucket ARN: %s", bucket)
		}
		bucketARN.Resource = fmt.Sprintf("%s/%s", bucketARN.Resource, key)
		return bucketARN, nil
	}
	return arn.ARN{
		Partition: partition,
		Service:   "s3",
		Resource:  fmt.Sprintf("%s/%s", bucket, key),
	}, nil
}
