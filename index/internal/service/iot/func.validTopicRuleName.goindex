package github.com/hashicorp/terraform-provider-aws/internal/service/iot
import (
	"fmt"
	"regexp"
	"strings"

	"github.com/YakDriver/regexache"
)
func validTopicRuleName(v any, s string) ([]string, []error) {
	name := v.(string)
	if len(name) < 1 || len(name) > 128 {
		return nil, []error{fmt.Errorf("Name must between 1 and 128 characters long")}
	}

	matched, err := regexp.MatchReader("^[0-9A-Za-z_]+$", strings.NewReader(name))

	if err != nil {
		return nil, []error{err}
	}

	if !matched {
		return nil, []error{fmt.Errorf("Name must match the pattern ^[0-9A-Za-z_]+$")}
	}

	return nil, nil
}
