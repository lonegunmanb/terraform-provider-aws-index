package github.com/hashicorp/terraform-provider-aws/internal/service/networkmanager
import (
	"encoding/json"
	"slices"
	"strconv"
	"strings"

	"github.com/hashicorp/terraform-provider-aws/internal/flex"
	"github.com/hashicorp/terraform-provider-aws/names"
)
func (c coreNetworkPolicyRoutingPolicyRuleMatchCondition) MarshalJSON() ([]byte, error) {
	// Types that require numeric values
	numericTypes := map[string]bool{
		"asn-in-as-path": true,
	}

	if numericTypes[c.Type] && c.Value != "" {
		// Try to parse the value as an integer
		if numVal, err := strconv.ParseInt(c.Value, 10, 64); err == nil {
			return json.Marshal(map[string]any{
				names.AttrType:  c.Type,
				names.AttrValue: numVal,
			})
		}
	}

	// Default: marshal as strings
	type Alias coreNetworkPolicyRoutingPolicyRuleMatchCondition
	return json.Marshal((*Alias)(&c))
}
