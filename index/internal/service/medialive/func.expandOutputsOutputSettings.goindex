package github.com/hashicorp/terraform-provider-aws/internal/service/medialive
import (
	"github.com/aws/aws-sdk-go-v2/aws"
	"github.com/aws/aws-sdk-go-v2/service/medialive/types"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/validation"
	"github.com/hashicorp/terraform-provider-aws/internal/enum"
	"github.com/hashicorp/terraform-provider-aws/internal/flex"
	"github.com/hashicorp/terraform-provider-aws/names"
)
func expandOutputsOutputSettings(tfList []any) *types.OutputSettings {
	if tfList == nil {
		return nil
	}

	m := tfList[0].(map[string]any)

	var os types.OutputSettings
	if v, ok := m["archive_output_settings"].([]any); ok && len(v) > 0 {
		os.ArchiveOutputSettings = expandOutputsOutputSettingsArchiveOutputSettings(v)
	}
	if v, ok := m["frame_capture_output_settings"].([]any); ok && len(v) > 0 {
		os.FrameCaptureOutputSettings = expandOutputsOutSettingsFrameCaptureOutputSettings(v)
	}
	if v, ok := m["hls_output_settings"].([]any); ok && len(v) > 0 {
		os.HlsOutputSettings = expandOutputsOutSettingsHLSOutputSettings(v)
	}
	if v, ok := m["media_package_output_settings"].([]any); ok && len(v) > 0 {
		os.MediaPackageOutputSettings = &types.MediaPackageOutputSettings{} // no exported fields
	}
	if v, ok := m["ms_smooth_output_settings"].([]any); ok && len(v) > 0 {
		os.MsSmoothOutputSettings = expandOutputsOutSettingsMsSmoothOutputSettings(v)
	}
	if v, ok := m["multiplex_output_settings"].([]any); ok && len(v) > 0 {
		os.MultiplexOutputSettings = func(inner []any) *types.MultiplexOutputSettings {
			if len(inner) == 0 {
				return nil
			}

			data := inner[0].(map[string]any)
			var mos types.MultiplexOutputSettings
			if v, ok := data[names.AttrDestination].([]any); ok && len(v) > 0 {
				mos.Destination = expandDestination(v)
			}
			return &mos
		}(v)
	}

	if v, ok := m["rtmp_output_settings"].([]any); ok && len(v) > 0 {
		os.RtmpOutputSettings = expandOutputsOutputSettingsRtmpOutputSettings(v)
	}
	if v, ok := m["udp_output_settings"].([]any); ok && len(v) > 0 {
		os.UdpOutputSettings = expandOutputsOutputSettingsUdpOutputSettings(v)
	}

	return &os
}
