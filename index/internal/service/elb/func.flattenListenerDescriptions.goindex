package github.com/hashicorp/terraform-provider-aws/internal/service/elb
import (
	"errors"
	"slices"
	"strings"

	"github.com/aws/aws-sdk-go-v2/aws"
	awstypes "github.com/aws/aws-sdk-go-v2/service/elasticloadbalancing/types"
	tfslices "github.com/hashicorp/terraform-provider-aws/internal/slices"
	"github.com/hashicorp/terraform-provider-aws/names"
)
func flattenListenerDescriptions(apiObjects []awstypes.ListenerDescription) []any {
	tfList := make([]any, 0, len(apiObjects))

	for _, apiObject := range apiObjects {
		tfMap := map[string]any{
			"instance_port":     aws.ToInt32(apiObject.Listener.InstancePort),
			"instance_protocol": strings.ToLower(aws.ToString(apiObject.Listener.InstanceProtocol)),
			"lb_port":           apiObject.Listener.LoadBalancerPort,
			"lb_protocol":       strings.ToLower(*apiObject.Listener.Protocol),
		}

		if apiObject.Listener.SSLCertificateId != nil {
			tfMap["ssl_certificate_id"] = aws.ToString(apiObject.Listener.SSLCertificateId)
		}

		tfList = append(tfList, tfMap)
	}

	return tfList
}
