package github.com/hashicorp/terraform-provider-aws/internal/service/codebuild
import (
	"context"
	"time"

	"github.com/aws/aws-sdk-go-v2/aws"
	"github.com/aws/aws-sdk-go-v2/service/codebuild"
	awstypes "github.com/aws/aws-sdk-go-v2/service/codebuild/types"
	"github.com/hashicorp/terraform-plugin-framework/action"
	"github.com/hashicorp/terraform-plugin-framework/action/schema"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/hashicorp/terraform-plugin-log/tflog"
	"github.com/hashicorp/terraform-provider-aws/internal/framework"
	fwflex "github.com/hashicorp/terraform-provider-aws/internal/framework/flex"
	fwtypes "github.com/hashicorp/terraform-provider-aws/internal/framework/types"
	"github.com/hashicorp/terraform-provider-aws/names"
)
func (a *startBuildAction) Schema(ctx context.Context, req action.SchemaRequest, resp *action.SchemaResponse) {
	resp.Schema = schema.Schema{
		Description: "Starts a CodeBuild project build",
		Attributes: map[string]schema.Attribute{
			"project_name": schema.StringAttribute{
				Description: "Name of the CodeBuild project",
				Required:    true,
			},
			"source_version": schema.StringAttribute{
				Description: "Version of the build input to be built",
				Optional:    true,
			},
			names.AttrTimeout: schema.Int64Attribute{
				Description: "Timeout in seconds for the build operation",
				Optional:    true,
			},
			"build_id": schema.StringAttribute{
				Description: "ID of the started build",
				Optional:    true,
			},
		},
		Blocks: map[string]schema.Block{
			"environment_variables_override": schema.ListNestedBlock{
				CustomType:  fwtypes.NewListNestedObjectTypeOf[environmentVariableModel](ctx),
				Description: "Environment variables to override for this build",
				NestedObject: schema.NestedBlockObject{
					Attributes: map[string]schema.Attribute{
						names.AttrName: schema.StringAttribute{
							Description: "Environment variable name",
							Required:    true,
						},
						names.AttrValue: schema.StringAttribute{
							Description: "Environment variable value",
							Required:    true,
						},
						names.AttrType: schema.StringAttribute{
							Description: "Environment variable type",
							Optional:    true,
						},
					},
				},
			},
		},
	}
}
