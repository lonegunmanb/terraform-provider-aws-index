package github.com/hashicorp/terraform-provider-aws/internal/slices
import (
	"iter"
	"slices"
)
func ApplyToAllWithError[S ~[]E1, E1, E2 any](s S, f func(E1) (E2, error)) ([]E2, error) {
	v := make([]E2, len(s))

	for i, e1 := range s {
		e2, err := f(e1)
		if err != nil {
			return nil, err
		}
		v[i] = e2
	}

	return v, nil
}
