package github.com/hashicorp/terraform-provider-aws/internal/envvar
import (
	"fmt"
	"os"

	testing "github.com/mitchellh/go-testing-interface"
)
func SkipIfEmpty(t testing.T, name string, usageMessage string) string {
	t.Helper()

	value := os.Getenv(name)

	if value == "" {
		msg := fmt.Sprintf("skipping test; environment variable %s must be set", name)
		if usageMessage != "" {
			msg += ". Usage: " + usageMessage
		}
		t.Skip(msg)
	}

	return value
}
