package github.com/hashicorp/terraform-provider-aws/internal/backoff
import (
	"context"
	"time"

	inttypes "github.com/hashicorp/terraform-provider-aws/internal/types"
)
func NewLoopWithOptions(timeout time.Duration, opts ...Option) *Loop {
	config := defaultLoopConfig()
	for _, opt := range opts {
		opt(&config)
	}

	return &Loop{
		config:      config,
		deadline:    inttypes.NewDeadline(timeout),
		gracePeriod: config.gracePeriod,
	}
}
