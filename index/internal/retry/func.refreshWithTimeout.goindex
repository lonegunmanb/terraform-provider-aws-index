package github.com/hashicorp/terraform-provider-aws/internal/retry
import (
	"context"
	"errors"
	"slices"
	"time"

	"github.com/hashicorp/terraform-provider-aws/internal/backoff"
	"github.com/hashicorp/terraform-provider-aws/internal/conns"
	tfslices "github.com/hashicorp/terraform-provider-aws/internal/slices"
	inttypes "github.com/hashicorp/terraform-provider-aws/internal/types"
	"github.com/hashicorp/terraform-provider-aws/internal/vcr"
	"gopkg.in/dnaeon/go-vcr.v4/pkg/recorder"
)
func (conf *StateChangeConfOf[T, S]) refreshWithTimeout(ctx context.Context, timeout time.Duration) (T, S, error) {
	// Set a deadline on the context here to maintain compatibility with the Plugin SDKv2 implementation.
	ctx, cancel := context.WithTimeout(ctx, timeout)
	defer cancel()
	return conf.Refresh(ctx)
}
