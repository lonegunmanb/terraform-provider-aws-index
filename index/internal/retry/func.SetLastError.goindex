package github.com/hashicorp/terraform-provider-aws/internal/retry
import (
	"errors"
	"fmt"
	"strings"
	"time"

	sdkretry "github.com/hashicorp/terraform-plugin-sdk/v2/helper/retry"
)
func SetLastError(err, lastErr error) {
	// Handle both internal and Plugin SDK V2 error variants
	switch err := err.(type) { //nolint:errorlint // Explicitly does *not* match down the error tree
	case *TimeoutError:
		if err.LastError == nil {
			err.LastError = lastErr
		}
	case *sdkretry.TimeoutError:
		if err.LastError == nil {
			err.LastError = lastErr
		}

	case *UnexpectedStateError:
		if err.LastError == nil {
			err.LastError = lastErr
		}
	case *sdkretry.UnexpectedStateError:
		if err.LastError == nil {
			err.LastError = lastErr
		}
	}
}
